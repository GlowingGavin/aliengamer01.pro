<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vanilla JS Chessboard</title>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #eee;
    }
    #chessboard {
        display: grid;
        grid-template-columns: repeat(8, 60px);
        grid-template-rows: repeat(8, 60px);
        border: 2px solid #333;
    }
    .square {
        width: 60px;
        height: 60px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 36px;
        cursor: pointer;
        user-select: none;
    }
    .white { background-color: #f0d9b5; }
    .black { background-color: #b58863; }
    .highlight { background-color: yellow !important; }
</style>
</head>
<body>

<div id="chessboard"></div>

<script>
const boardEl = document.getElementById('chessboard');
const initialBoard = [
  ["r","n","b","q","k","b","n","r"],
  ["p","p","p","p","p","p","p","p"],
  ["","","","","","","",""],
  ["","","","","","","",""],
  ["","","","","","","",""],
  ["","","","","","","",""],
  ["P","P","P","P","P","P","P","P"],
  ["R","N","B","Q","K","B","N","R"]
];

const piecesUnicode = {
  "K":"♔","Q":"♕","R":"♖","B":"♗","N":"♘","P":"♙",
  "k":"♚","q":"♛","r":"♜","b":"♝","n":"♞","p":"♟"
};

let selected = null;

// Draw board
function drawBoard() {
  boardEl.innerHTML = "";
  for(let r=0;r<8;r++){
    for(let c=0;c<8;c++){
      const square = document.createElement("div");
      square.classList.add("square");
      square.classList.add((r+c)%2===0?"white":"black");
      square.dataset.row = r;
      square.dataset.col = c;
      square.textContent = piecesUnicode[initialBoard[r][c]] || "";
      square.addEventListener("click", handleClick);
      boardEl.appendChild(square);
    }
  }
}

// Handle click for moving
function handleClick(e){
  const r = parseInt(this.dataset.row);
  const c = parseInt(this.dataset.col);
  if(selected){
    // Move piece
    if(selected.row !== r || selected.col !== c){
      initialBoard[r][c] = initialBoard[selected.row][selected.col];
      initialBoard[selected.row][selected.col] = "";
    }
    clearHighlights();
    selected = null;
    drawBoard();
  } else if(initialBoard[r][c] !== ""){
    selected = {row: r, col: c};
    this.classList.add("highlight");
  }
}

// Clear highlights
function clearHighlights(){
  document.querySelectorAll(".square").forEach(sq => sq.classList.remove("highlight"));
}

// Initialize
drawBoard();
</script>

</body>
</html>
